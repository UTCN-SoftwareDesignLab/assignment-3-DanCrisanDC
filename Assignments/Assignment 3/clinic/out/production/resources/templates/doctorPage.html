<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Consultations</title>
    <script src="/webjars/jquery/jquery.min.js"></script>
    <script src="/webjars/sockjs-client/sockjs.min.js"></script>
    <script src="/webjars/stomp-websocket/stomp.min.js"></script>
    <script src="/appDoctor.js"></script>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
</head>
<body onload="connect()" onunload="disconnect()" >
<h2>Consultations</h2>

<form action="#" th:action="@{/doctorPage}" th:object="${consultationDto}" method="post">
    <p>Patient name: <input type="text" th:field="*{patient.name}" /></p>
    <p th:if="${#fields.hasErrors('patient')}" th:errors="*{patient.name}">Patient Error</p>
    <p>Doctor name: <input type="text" th:field="*{doctor.name}" /></p>
    <p th:if="${#fields.hasErrors('doctor')}" th:errors="*{doctor.name}">Doctor Error</p>
    <p>Date: <input type="date" th:field="*{scheduledDate}" /></p>
    <p th:if="${#fields.hasErrors('scheduledDate')}" th:errors="*{scheduledDate}">Date Error</p>
    <p>Observations: <input type="text" th:field="*{observations}" /></p>
    <p>Id: <input type="number" th:field="*{id}" /></p>

    <p><input type="submit" name="addDetails" value="Add Details to Consultation" /></p>
    <p><input type="submit" name="viewConsultation" value="View Consultation" /></p>
</form>

<p th:text = "${message}" ></p>

<noscript><h2>Seems your browser doesn't support Javascript! Websocket relies on Javascript being
    enabled. Please enable
    Javascript and reload this page!</h2></noscript>

    <div id="main-content" class="container">
    <div class="row">
        <div class="col-md-12">
            <table id="conversation" class="table table-striped">
                <thead>
                <tr>
                    <th>Notification</th>
                </tr>
                </thead>
                <tbody id="notifications">
                </tbody>
            </table>
        </div>
    </div>
    </div>

</body>
</html>